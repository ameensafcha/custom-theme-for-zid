{% if settings.announcement_bar_display %}
{% if not settings.announcement_bar_page_display or (session.template == 'home' and
settings.announcement_bar_page_display == 'home') or settings.announcement_bar_page_display == 'all' %}
{% set bg_color = settings.announcement_bar_bg_color | default('') %}
{% set text_color = settings.announcement_bar_text_color | default('') %}

{% set ns = namespace(items=[]) %}
{% for item in settings.announcement_bar_texts or [] %}
{% if item.text and ns.items | length < 3 %} {% set ns.items=ns.items + [item] %} {% endif %} {% endfor %} {% if
  ns.items | length> 0 %}
  <div class="bg-primary text-primary-foreground" data-announcement-bar {% if bg_color or text_color %}
    style="{% if bg_color %}background-color: {{ bg_color }};{% endif %}{% if text_color %}color: {{ text_color }};{% endif %}"
    {% endif %}>
    <div class="theme-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-1 p-2">
      {% for item in ns.items %}
      <span
        class="text-base text-center{% if loop.last and ns.items | length == 3 %} md:col-span-2 lg:col-span-1{% endif %}">
        {{ item.text }}
      </span>
      {% endfor %}
    </div>
  </div>
  {% endif %}
  {% endif %}
  {% endif %}