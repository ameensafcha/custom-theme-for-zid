{#
  Custom Field - Text/Number/Date/Time
  Renders text-based custom input fields.
  See docs/headless/custom-field-text.md for full documentation.

  Parameters:
    - custom_field (object): Field with id, label, type, is_required, hint, price
#}

{% set input_type = custom_field.type|lower %}
{% if custom_field.type == 'NUMBER' %}
  {% set input_type = 'text' %}
{% endif %}

<div
  id="product-custom-user-input-fields"
  class="custom-field custom-field--{{ custom_field.type|lower }}"
>
  <label
    class="custom-field__label"
    for="{{ custom_field.id }}"
  >
    {{ custom_field.label }}
    {% if custom_field.price and custom_field.price > 0 %}
      <span class="custom-field__price">(+{{ custom_field.formatted_price }})</span>
    {% endif %}
    {% if custom_field.is_required %}
      <span class="custom-field__required">*</span>
    {% endif %}
  </label>

  <input
    type="{{ input_type }}"
    id="{{ custom_field.id }}"
    name="{{ custom_field.label }}"
    data-type="{{ custom_field.type.value if custom_field.type.value else custom_field.type }}"
    title="{{ custom_field.label }}"
    lang="{{ session.lang }}"
    placeholder="{{ custom_field.hint|default('') }}"
    oninput="productOptionInputChanged(event)"
    {% if custom_field.type == 'NUMBER' %}onkeypress="productOptionInputNumberValidate(event)"{% endif %}
    {% if custom_field.type == 'DATE' %}min="{{ today() }}"{% endif %}
    {% if custom_field.is_required %}required{% endif %}
    class="custom-field__input"
  />

  {% if custom_field.hint %}
    <p class="custom-field__hint">{{ custom_field.hint }}</p>
  {% endif %}
</div>
