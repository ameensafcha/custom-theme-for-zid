{#
  Custom Field - Dropdown
  Renders a select dropdown input field.
  See docs/headless/custom-field-dropdown.md for full documentation.

  Parameters:
    - custom_field (object): Field with id, label, choices, is_required, hint
#}

<div
  id="product-custom-user-dropdown-fields"
  class="custom-field custom-field--dropdown"
>
  <label
    class="custom-field__label"
    for="{{ custom_field.id }}"
  >
    {{ custom_field.label }}
    {% if custom_field.is_required %}
      <span class="custom-field__required">*</span>
    {% endif %}
  </label>

  <select
    id="{{ custom_field.id }}"
    name="{{ custom_field.label }}"
    data-type="DROPDOWN"
    title="{{ custom_field.label }}"
    lang="{{ session.lang }}"
    onchange="productOptionInputChanged(event)"
    class="custom-field__input custom-field__select"
    {% if custom_field.is_required %}required{% endif %}
  >
    <option
      id="0"
      disabled
      selected
      value=""
    >
      {{ custom_field.hint if custom_field.hint else _('Choose') }}
    </option>

    {% for choice in custom_field.choices %}
      <option
        id="{{ choice.id }}"
        value="{{ choice.name }}"
      >
        {{ choice.name }}
        {% if choice.price and choice.price > 0 %}
          (+{{ choice.formatted_price }})
        {% endif %}
      </option>
    {% endfor %}
  </select>
</div>
