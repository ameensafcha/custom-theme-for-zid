{% if store.settings.checkout.gift_order_settings.is_gift_order_enabled == '1' %}
  {% set has_gift = cart.gift_card_details and cart.gift_card_details | length > 0 %}
  <div
    class="py-4"
    data-gift-order-section
  >
    <button
      type="button"
      class="border-foreground flex w-full items-center gap-2 rounded border px-4 py-2 transition-colors"
      data-action="gift-open"
      data-gift-order-btn
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        class="text-accent size-6 shrink-0"
        fill="currentColor"
      >
        <path
          d="M3.85156 20.4455V11.1733H3.35156C2.93906 11.1733 2.58598 11.0263 2.29231 10.7325C1.99848 10.4388 1.85156 10.0857 1.85156 9.67325V6.726C1.85156 6.25767 2.01731 5.85667 2.34881 5.523C2.68031 5.18933 3.08231 5.0225 3.55481 5.0225H7.42331C7.29798 4.8225 7.20198 4.61133 7.13531 4.389C7.06865 4.1665 7.03531 3.938 7.03531 3.7035C7.03531 2.90983 7.3139 2.23483 7.87106 1.6785C8.4284 1.122 9.10506 0.84375 9.90106 0.84375C10.3011 0.84375 10.6876 0.924082 11.0606 1.08475C11.4336 1.24558 11.7471 1.48033 12.0011 1.789C12.2551 1.48417 12.5696 1.25042 12.9446 1.08775C13.3196 0.925082 13.7071 0.84375 14.1071 0.84375C14.9014 0.84375 15.5766 1.122 16.1328 1.6785C16.6888 2.23483 16.9668 2.90983 16.9668 3.7035C16.9668 3.93867 16.9345 4.16683 16.8698 4.388C16.8051 4.60917 16.7081 4.82067 16.5788 5.0225H20.4473C20.9215 5.0225 21.3249 5.18933 21.6576 5.523C21.9902 5.85667 22.1566 6.25767 22.1566 6.726V9.67325C22.1566 10.0857 22.0086 10.4388 21.7128 10.7325C21.4171 11.0263 21.0651 11.1733 20.6566 11.1733H20.1566V20.4455C20.1566 20.918 19.9902 21.32 19.6576 21.6515C19.3249 21.983 18.9215 22.1487 18.4473 22.1487H5.55481C5.08231 22.1487 4.68031 21.983 4.34881 21.6515C4.01731 21.32 3.85156 20.918 3.85156 20.4455ZM14.1088 2.4095C13.741 2.4095 13.4321 2.53333 13.1821 2.781C12.9321 3.02883 12.8071 3.33575 12.8071 3.70175C12.8071 4.06792 12.9315 4.37542 13.1803 4.62425C13.4291 4.87308 13.7375 4.9975 14.1053 4.9975C14.4731 4.9975 14.7821 4.87367 15.0321 4.626C15.2821 4.37833 15.4071 4.07142 15.4071 3.70525C15.4071 3.33925 15.2826 3.03175 15.0338 2.78275C14.785 2.53392 14.4766 2.4095 14.1088 2.4095ZM8.60106 3.69875C8.60106 4.06808 8.72548 4.37692 8.97431 4.62525C9.22315 4.87342 9.53148 4.9975 9.89931 4.9975C10.2671 4.9975 10.5761 4.874 10.8261 4.627C11.0761 4.37983 11.2011 4.07158 11.2011 3.70225C11.2011 3.33708 11.0766 3.03033 10.8278 2.782C10.579 2.53367 10.2706 2.4095 9.90281 2.4095C9.53498 2.4095 9.22606 2.53308 8.97606 2.78025C8.72606 3.02742 8.60106 3.33358 8.60106 3.69875ZM3.55481 6.726V9.47H11.1913V6.726H3.55481ZM11.1913 20.4515V11.1733H5.40481V20.4515H11.1913ZM12.8108 20.4515H18.5973V11.1733H12.8108V20.4515ZM20.4533 9.47V6.726H12.8108V9.47H20.4533Z"
          fill="currentColor"
        ></path>
      </svg>
      <span class="text-foreground text-body1 flex-1 text-start">{{ _("Make it a gift") }}</span>
      <span
        class="text-foreground text-body1 {{ 'hidden' if has_gift }}"
        data-gift-add-link
      >
        {{ _("Add details") }}
      </span>
      <span
        class="text-foreground text-body1 {{ 'hidden' if not has_gift }}"
        data-gift-edit-link
      >
        {{ _("Edit details") }}
      </span>
    </button>
    {% include 'vitrin:cart/gift-card.jinja' %}
  </div>
{% endif %}
