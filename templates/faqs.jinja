{% extends "layout.jinja" %}

{% block title %}{{ _("FAQs") }} â€“ {{ store.name }}{% endblock %}

{% block content %}
  {# Breadcrumb Section #}
  <section class="px-4 py-6 md:px-16">
    <div class="theme-container">
      {%
        with
        items=[
          {'href': url_for('home'), 'label': _("Home")},
          {'label': _("FAQs")}
        ]
      %}
        {% include 'components/ui/breadcrumb.jinja' %}
      {% endwith %}
    </div>
  </section>

  {# FAQs Section #}
  <section class="px-4 pb-12 md:px-16 md:pb-16">
    <div class="theme-container max-w-3xl">
      <h1 class="text-foreground text-h3 text-caps mb-8">{{ _("Frequently Asked Questions") }}</h1>

      {% if faqs and faqs|length > 0 %}
        <div class="divide-border-light divide-y">
          {% for faq in faqs %}
            <div class="py-4">
              <button
                type="button"
                command="--toggle"
                commandfor="faq-{{ loop.index }}"
                class="group flex w-full items-start justify-between gap-4 text-start"
                aria-expanded="{{ 'true' if loop.index == 1 else 'false' }}"
              >
                <span class="text-foreground text-subtitle1">{{ faq.question }}</span>
                <span
                  class="text-muted-foreground mt-1 shrink-0 transition-transform duration-200 group-aria-expanded:rotate-180"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      d="M6 9l6 6 6-6"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
              </button>
              <el-disclosure
                id="faq-{{ loop.index }}"
                {{ '' if loop.index == 1 else 'hidden' }}
                class="transition duration-200 data-closed:opacity-0"
              >
                <div class="text-muted text-body1 prose prose-sm mt-3 max-w-none">{{ faq.answer | safe }}</div>
              </el-disclosure>
            </div>
          {% endfor %}
        </div>
      {% else %}
        {# Empty State #}
        <div class="flex flex-col items-center justify-center py-16 text-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="64"
            height="64"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="text-muted-foreground mb-4"
          >
            <circle
              cx="12"
              cy="12"
              r="10"
            />
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
            <path d="M12 17h.01" />
          </svg>
          <h2 class="text-foreground text-h6 mb-2">{{ _("No FAQs available") }}</h2>
          <p class="text-muted text-body2">{{ _("Check back later for frequently asked questions.") }}</p>
        </div>
      {% endif %}
    </div>
  </section>
{% endblock %}
