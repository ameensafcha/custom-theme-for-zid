{% extends "layout.jinja" %}

{% block title %}{{ _("Shipping & Payment") }} â€“ {{ store.name }}{% endblock %}

{% block content %}
  <section class="px-4 py-6 md:px-16">
    <div class="theme-container">
      {%
        with
        items=[
          {'href': url_for('home'), 'label': _("Home")},
          {'label': _("Shipping & Payment")}
        ]
      %}
        {% include 'components/ui/breadcrumb.jinja' %}
      {% endwith %}
    </div>
  </section>
  <section class="px-4 pb-16 md:px-16">
    <div class="theme-container">
      <h1 class="text-foreground text-h4 md:text-h3 text-caps mb-8 text-center md:mb-12">
        {{ _("Shipping & Payment") }}
      </h1>
      <div class="flex flex-col gap-4">
        <div>
          <button
            type="button"
            command="--toggle"
            commandfor="shipping-options"
            class="bg-secondary group flex w-full items-center justify-between gap-3 rounded px-4 py-2"
            aria-expanded="true"
          >
            <span class="text-foreground text-h6 text-caps">{{ _("Shipping Options") }}</span>
            <span
              class="text-foreground inline-flex size-10 shrink-0 items-center justify-center rounded bg-white/10 p-2.5 backdrop-blur-sm"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                class="transition-transform duration-200 group-aria-expanded:rotate-180"
              >
                <path
                  d="M11.999 8.70312C12.0929 8.70312 12.1689 8.73142 12.249 8.81152L17.1924 13.7559C17.2744 13.8378 17.3008 13.9117 17.3008 13.999C17.3008 14.0863 17.2743 14.1602 17.1924 14.2422C17.1143 14.3202 17.0374 14.3506 16.9365 14.3506C16.8359 14.3505 16.7596 14.32 16.6816 14.2422L16.6807 14.2412L12.3516 9.9375L11.998 9.58594L7.31738 14.2666C7.23964 14.3443 7.17341 14.3662 7.09277 14.3633C6.99851 14.3598 6.91711 14.3282 6.83105 14.2422C6.75294 14.1641 6.72266 14.0872 6.72266 13.9863C6.72267 13.8854 6.75294 13.8086 6.83105 13.7305L11.75 8.81152C11.83 8.73152 11.9054 8.7032 11.999 8.70312Z"
                  fill="currentColor"
                  stroke="currentColor"
                ></path>
              </svg>
            </span>
          </button>
          <el-disclosure
            id="shipping-options"
            class="transition duration-200 data-closed:opacity-0"
          >
            <div class="mt-4 px-4 pb-4">
              {# Desktop Table View #}
              <div class="hidden md:block">{% include 'components/shipping-payment/shipping-table.jinja' %}</div>
              {# Mobile Card View #}
              <div class="md:hidden">{% include 'components/shipping-payment/shipping-cards-mobile.jinja' %}</div>
            </div>
          </el-disclosure>
        </div>
        <div>
          <button
            type="button"
            command="--toggle"
            commandfor="payment-options"
            class="bg-secondary group flex w-full items-center justify-between gap-3 rounded px-4 py-2"
            aria-expanded="false"
          >
            <span class="text-foreground text-h6 text-caps">{{ _("Payment Options") }}</span>
            <span
              class="text-foreground inline-flex size-10 shrink-0 items-center justify-center rounded bg-white/10 p-2.5 backdrop-blur-sm"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                class="transition-transform duration-200 group-aria-expanded:rotate-180"
              >
                <path
                  d="M11.999 8.70312C12.0929 8.70312 12.1689 8.73142 12.249 8.81152L17.1924 13.7559C17.2744 13.8378 17.3008 13.9117 17.3008 13.999C17.3008 14.0863 17.2743 14.1602 17.1924 14.2422C17.1143 14.3202 17.0374 14.3506 16.9365 14.3506C16.8359 14.3505 16.7596 14.32 16.6816 14.2422L16.6807 14.2412L12.3516 9.9375L11.998 9.58594L7.31738 14.2666C7.23964 14.3443 7.17341 14.3662 7.09277 14.3633C6.99851 14.3598 6.91711 14.3282 6.83105 14.2422C6.75294 14.1641 6.72266 14.0872 6.72266 13.9863C6.72267 13.8854 6.75294 13.8086 6.83105 13.7305L11.75 8.81152C11.83 8.73152 11.9054 8.7032 11.999 8.70312Z"
                  fill="currentColor"
                  stroke="currentColor"
                ></path>
              </svg>
            </span>
          </button>
          <el-disclosure
            id="payment-options"
            hidden
            class="transition duration-200 data-closed:opacity-0"
          >
            <div class="mt-4 px-4 pb-4">{% include 'components/shipping-payment/payment-methods.jinja' %}</div>
          </el-disclosure>
        </div>
        {% if banks %}
          <div>
            <button
              type="button"
              command="--toggle"
              commandfor="bank-accounts"
              class="bg-secondary group flex w-full items-center justify-between gap-3 rounded px-4 py-2"
              aria-expanded="false"
            >
              <span class="text-foreground text-h6 text-caps">{{ _("Bank Accounts") }}</span>
              <span
                class="text-foreground inline-flex size-10 shrink-0 items-center justify-center rounded bg-white/10 p-2.5 backdrop-blur-sm"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  class="transition-transform duration-200 group-aria-expanded:rotate-180"
                >
                  <path
                    d="M11.999 8.70312C12.0929 8.70312 12.1689 8.73142 12.249 8.81152L17.1924 13.7559C17.2744 13.8378 17.3008 13.9117 17.3008 13.999C17.3008 14.0863 17.2743 14.1602 17.1924 14.2422C17.1143 14.3202 17.0374 14.3506 16.9365 14.3506C16.8359 14.3505 16.7596 14.32 16.6816 14.2422L16.6807 14.2412L12.3516 9.9375L11.998 9.58594L7.31738 14.2666C7.23964 14.3443 7.17341 14.3662 7.09277 14.3633C6.99851 14.3598 6.91711 14.3282 6.83105 14.2422C6.75294 14.1641 6.72266 14.0872 6.72266 13.9863C6.72267 13.8854 6.75294 13.8086 6.83105 13.7305L11.75 8.81152C11.83 8.73152 11.9054 8.7032 11.999 8.70312Z"
                    fill="currentColor"
                    stroke="currentColor"
                  ></path>
                </svg>
              </span>
            </button>
            <el-disclosure
              id="bank-accounts"
              hidden
              class="transition duration-200 data-closed:opacity-0"
            >
              <div class="mt-4 px-4 pb-4">{% include 'components/shipping-payment/bank-accounts.jinja' %}</div>
            </el-disclosure>
          </div>
        {% endif %}
      </div>
    </div>
  </section>
  {% include 'components/shipping-payment/cities-dialog.jinja' %}
{% endblock %}

{% block footer_scripts %}
  <script
    defer
    src="{{ 'js/shipping-payment.js' | asset_url }}"
  ></script>
{% endblock %}
